@section additionheader{
    <script src="~/Bootstrap/js/jquery.hotkeys.js"></script>
    <script src="~/Bootstrap/js/bootstrap-wysiwyg.js"></script>
    <script src="~/Bootstrap/js/raphael.js"></script>
    <script src="~/Bootstrap/js/jquery.countdown.js"></script>
    <script src="~/Resource/Scripts/DoTestScript.js"></script>
    <link href="~/Bootstrap/css/jquery.countdown.css" rel="stylesheet" />
}
@{
    ViewBag.Title = "Index";
}
@model OATS_Capstone.Models.TestLogic
@{
    var authen = OATS_Capstone.Models.AuthenticationSessionModel.Instance();
    var user = authen.User;
}
@if (Model != null)
{
    <input id="test-id" type="hidden" value="@Model.TestID" />
    <input id="test-duration" type="hidden" value="@Model.TestDuration" />
    
    <div class="navbar navbar-static-top">
        <div class="navbar-inner">
            <div id="savestatus" style="display: none;">
                <span class="nt-desc" style="display: inline;"></span>
            </div>
            <div class="container">
                <a id="logo" class="brand" href="@Url.Action("Index", "Tests")">OATS</a>
                <div class="nt-test-header">@Model.TestTitle</div>
                <ul class="nav pull-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="t-icon icon-user"></i><b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li class="nav-header">Welcome: @(string.IsNullOrEmpty(user.Name)?user.UserMail:user.Name)</li>
                            <li class="divider"></li>
                            <li><a href="#" id="profile-link">My Profile</a></li>
                            <li><a href="@Url.Action("LogOut", "Account")">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        <!-- /navbar-inner -->
    </div>
    <div id="container" class="container wrapper nt-de-cont">
        <div class="nt-checklist-cont" style="max-height: 560px; overflow-y: auto;">
            @if (!string.IsNullOrEmpty(Model.Introduction))
            {
                <div class="introduction">
                    <span class="summary">Introduction : </span>
                    <span>@Model.Introduction</span>
                </div>
            }
            <div class="nt-username">@(string.IsNullOrEmpty(user.Name) ? user.UserMail : user.Name)</div>
            <div id="checklist">
                @if (Model == null)
                { @Html.Partial("P_Type_Empty_Template") }
                else
                {
                    if (Model.Questions.Count() == 0)
                    {
                    @Html.Partial("P_Type_Empty_Template")
                    }
                    else
                    {
                        foreach (var question in Model.Questions)
                        {
                    @Html.Partial("P_Question_Instance_DoTest", question)
                        }
                    }
                }
            </div>
        </div>
        <div class="nt-footer" style="display: block;">
            <div class="nt-footer-cont">
                <div class="nt-resp-stat">
                    <div class="nt-resp-stat-desc">0 of 4 answered - 0% complete</div>
                    <div class="nt-resp-stat-bar ui-progressbar ui-widget ui-widget-content ui-corner-all" role="progressbar" aria-valuemin="0" aria-valuemax="4" aria-valuenow="0">
                        <div class="ui-progressbar-value ui-widget-header ui-corner-left" style="display: none; width: 0%;"></div>
                    </div>
                </div>
                <button id="submit-btn" class="nt-btn-submit nt-submit">Submit</button>
                <div class="nt-footer-right">
                    <div class="nt-time-remaining" id="c427">
                        <div class="nt-time-remaining-text">Time remaining:</div>
                        <div id="countdown"></div>
                        <div id="note"></div>
                        <div class="nt-time-remaining-value nt-full">
                            <div class="nt-time-digits">1</div>
                            <div class="nt-hour">hour</div>
                            <div class="nt-time-digits">46</div>
                            <div class="nt-minute">minutes</div>
                        </div>
                        <div class="nt-time-remaining-value nt-abbr">
                            <div class="nt-time-digits">1</div>
                            <div class="nt-hour">hr</div>
                            <div class="nt-time-digits">46</div>
                            <div class="nt-minute">mins</div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
}