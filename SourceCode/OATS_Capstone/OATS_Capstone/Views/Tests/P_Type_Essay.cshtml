@model OATS_Capstone.Models.Question
@{
    var tags = Model.TagInQuestions.OrderBy(i => i.SerialOrder).Select(i => i.Tag);
    var isOwner = true;
    if (ViewBag.isOwner != null)
    {
        isOwner = ViewBag.isOwner;
    }
}
@if(isOwner){
<div class="nt-qitem nt-qitem-edit nt-qitem-edit-inact" question-type="Essay" question-id="@Model.QuestionID">
    <div class="nt-qnum ">@Model.LabelOrder</div>
    <a class="nt-qanchor"></a>
    <!-- NOT isImg START -->


    <div class="nt-conted-ph-cont" style="position: relative; overflow: hidden;">
        <div class="redactor_box">
            <div class="nt-qtext nt-qedit nt-delayedblur redactor_editor" contenteditable="true">@Model.QuestionTitle</div>
        </div>
    </div>

    <!-- NOT isImg END -->

    <!-- isImg START -->
    <!-- isImg END -->

    <div class="nt-qhctrls">

        <button class="nt-btn-circle bt-duplicate"><i class="t-icon i-duplicate"></i></button>
        <button class="nt-btn-circle bt-delete"><i class="icon-remove"></i></button>


    </div>

    <div class="nt-qanscont nt-sortable"></div>

    <div class="nt-qmiddle">


        <div style="position: relative; top: auto; left: auto; margin: 0px 0px 16px; padding-bottom: 16px;">
            <textarea class="nt-qrespinput" style="overflow-x: hidden; overflow-y: auto; height: 92px; margin: 0px; resize: none; position: static; zoom: 1; display: block;">@Model.TextDescription</textarea>
        </div>


    </div>

    <div class="nt-qfoot">

        <div class="nt-qctrls" style="display: none;">


            <div class="nt-qoepts">
                <span>Max. Points:</span>
                <input type="text" value="@Model.NoneChoiceScore" />
            </div>

            @Html.Partial("P_Change_Question_Type","Essay")

            <button style="visibility: hidden" class="nt-btn-text nt-scrbtn">
                Points
            </button>
        </div>
        <div class="nt-qtagcont" style="border-top-width: 0px; display: none;">
            <div class="hoverscroll horizontal" style="width: 100%; height: 28px;">
                <div class="listcontainer" style="width: 100%; height: 27px;">
                    <div class="nt-tags list">
                        <div class="tags-container">
                            @foreach (var item in tags)
                            {
                                @Html.Partial("P_Tag_Item", item)
                            }
                        </div>
                        <div class="nt-tag-adder item">
                            <input type="text" placeholder="Add Tag..." autocomplete="off" />
                        </div>
                    </div>
                    <div class="arrow left" style="display: none;"><i class="icon-chevron-left"></i></div>
                    <div class="arrow right" style="display: none;"><i class="icon-chevron-right"></i></div>
                </div>
            </div>
        </div>


        <button class="nt-btn-sqr nt-qctrls-qtags-toggle">
            <i class="t-icon i-setting"></i>
        </button>
    </div>

</div>
}else{
    <div class="nt-qitem nt-qitem-edit nt-qitem-edit-inact" data-not-owner question-type="Essay" question-id="@Model.QuestionID">
    <div class="nt-qnum ">@Model.LabelOrder</div>
    <a class="nt-qanchor"></a>
    <!-- NOT isImg START -->


    <div class="nt-conted-ph-cont" style="position: relative; overflow: hidden;">
        <div class="redactor_box">
            <div class="nt-qtext nt-qedit nt-delayedblur redactor_editor">@Model.QuestionTitle</div>
        </div>
    </div>

    <!-- NOT isImg END -->

    <!-- isImg START -->
    <!-- isImg END -->


    <div class="nt-qanscont nt-sortable"></div>

    <div class="nt-qmiddle">


        <div style="overflow: hidden; position: relative; width: 710px; height: 102px; top: auto; left: auto; margin: 0px 0px 16px; padding-bottom: 16px;">
            <textarea disabled="disabled" class="nt-qrespinput" style="width: 670px; overflow-x: hidden; overflow-y: auto; height: 92px; margin: 0px; resize: none; position: static; zoom: 1; display: block;">@Model.TextDescription</textarea>
        </div>


    </div>

    <div class="nt-qfoot">

        <div class="nt-qctrls" style="display: none;">


            <div class="nt-qoepts">
                <span>Max. Points:</span>
                <input type="text" value="@Model.NoneChoiceScore" disabled="disabled" />
            </div>

        </div>
        <div class="nt-qtagcont" style="border-top-width: 0px; display: none;">
            <div class="hoverscroll horizontal" style="width: 100%; height: 28px;">
                <div class="listcontainer" style="width: 100%; height: 27px;">
                    <div class="nt-tags list">
                        <div class="tags-container">
                            @foreach (var item in tags)
                            {
                                @Html.Partial("P_Tag_Item", item)
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>

</div>
}
