@model OATS_Capstone.Models.Test
@{
    var settingConfig = Model.SettingConfig;
    var groups = from settings in settingConfig.SettingConfigDetails
                 group settings by settings.SettingType.SettingGroupName into settingGroup
                 select new { GroupName = settingGroup.Key, Items = settingGroup };
    <div class="nt-asm-settings" style="height: 400px; overflow-y: auto;">
        <div class="nt-panel">
            @foreach (var setting in groups)
            { 
                <div class="nt-section">
                    <div class="nt-header">@setting.GroupName</div>
                    <ul>
                        @{
                var sortedItems = setting.Items.OrderBy(k => k.SettingType.SettingInGroupOrder);
                        }
                        @foreach (var item in sortedItems)
                        {
                            <li>
                                <label class="checkbox">
                                    @if(item.IsActive){
                                    <input setting-key="@item.SettingType.SettingTypeKey" type="checkbox" checked="checked"/>
                                    }else{
                                        <input setting-key="@item.SettingType.SettingTypeKey" type="checkbox" />
                                    }
                                    @item.SettingType.SettingTypeDescription
                                </label>
                                @*<div id="asm_access_code" class="nt-access-code hide"></div>*@
                            </li>
                        }
                        @*    <li>
                    <label class="checkbox  nt-guide" data-guide="delivery_opt_1submit">
                        <input id="asm_ans_final" type="checkbox">One Submission Only - Time Limit:
            <input id="asm_time_limit" type="text" class="nt-guide" data-guide="delivery_opt_timelimit" disabled="disabled">mins
                    </label>
                </li>*@
                    </ul>
                </div>
            }
        </div>
    </div>
}